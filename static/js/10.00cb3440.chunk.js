(this["webpackJsonpppe-finder-app"]=this["webpackJsonpppe-finder-app"]||[]).push([[10],{112:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(119),r=a.n(n).a.initializeApp({apiKey:"AIzaSyCZognB8ejKsVgVV_kPzthGNI9vULL1hrc",authDomain:"ppe-finder-app.firebaseapp.com",databaseURL:"https://ppe-finder-app.firebaseio.com",projectId:"ppe-finder-app",storageBucket:"ppe-finder-app.appspot.com",messagingSenderId:"994345817020",appId:"1:994345817020:web:33b949ed0dd96cbb9011b9",measurementId:"G-K9R0FTMRMD"}).firestore()},212:function(e,t,a){"use strict";a.r(t);var n=a(88),r=a(0),i=a.n(r),o=a(13),c=a(75),s=a(112),m=a(78),l=a(18),u=a.n(l),p=a(157),d=a(201),g=a(59),f=a(124),h=a.n(f),v=a(125),b=a.n(v),E=a(197),y=a(143),k=a(126),j=a(123),w=Object(c.a)((function(e){return{card:{cursor:"pointer"},infoWindow:{padding:e.spacing(2)},root:{margin:e.spacing(2)},divider:{margin:e.spacing(2)},smBottomMargin:{marginBottom:10},icon:{verticalAlign:"middle"},header:{alignItems:"normal"},main:{minHeight:200},button:{maxHeight:40}}})),N=function(e){var t=w(),a=i.a.useState(!1),r=Object(n.a)(a,2),o=r[0],c=(r[1],{n95:"N95 Face Mask","face mask":"Face Mask","face shield":"Face Shield",gloves:"Gloves",coverall:"Coveralls"}),s=e.item.orgName&&e.item.orgName.structured_formatting&&e.item.orgName.structured_formatting.main_text||e.item.orgName||"",l=e.item.orgAddress&&e.item.orgAddress.formatted_address||e.item.orgAddress||"";return i.a.createElement(m.a,{item:!0,xs:12,sm:12,className:t.root},i.a.createElement(E.a,{variant:"outlined",onClick:e.handleInfoWindowClick,className:t.card},i.a.createElement(y.a,{className:t.header,disableTypography:!0,title:i.a.createElement(g.a,{paragraph:!0},s),subheader:i.a.createElement(g.a,{variant:"caption"},l)}),i.a.createElement(j.a,null,i.a.createElement(m.a,{container:!0,justify:"space-between",className:t.smBottomMargin},i.a.createElement(g.a,{variant:"caption"},i.a.createElement(h.a,{className:t.icon})," Department Name:"),i.a.createElement(g.a,{variant:"caption"},e.item.department)),i.a.createElement(m.a,{container:!0,justify:"space-between",className:t.smBottomMargin},i.a.createElement(g.a,{variant:"caption"},i.a.createElement(b.a,{className:t.icon}),"Items Needed:"),i.a.createElement("div",null,e.item.items&&e.item.items.length&&e.item.items.map((function(e){return i.a.createElement(m.a,{item:!0,xs:12,key:e},i.a.createElement(g.a,{variant:"caption"},c[e]))}))))),i.a.createElement(k.a,{className:t.button,id:"iwc"},o&&i.a.createElement(d.a,{id:"iwc",fullWidth:!0,disableElevation:!0,variant:"contained",color:"primary",onClick:e.onClick},"DONATE"))))},O=Object(c.a)((function(e){return{map:{left:0,width:"100%",minHeight:"100vh"},infoWindow:{padding:e.spacing(2)},root:{margin:e.spacing(2)},divider:{margin:e.spacing(2)},smBottomMargin:{marginBottom:10},icon:{verticalAlign:"middle"},header:{alignItems:"normal"},main:{minHeight:200},button:{maxHeight:40}}}));var x=Object(p.GoogleApiWrapper)({apiKey:"AIzaSyCN0lEUeJx0caBuvGp8bt6keUoc9YuLjqY"})(i.a.memo((function(e){var t=O(),a=i.a.useState({lat:37.354107,lng:-121.955238}),r=Object(n.a)(a,2),o=r[0],c=r[1],s=i.a.useState({showWindow:!1,marker:{}}),l=Object(n.a)(s,2),g=l[0],f=l[1],h=i.a.useState(!1),v=Object(n.a)(h,2);v[0],v[1],i.a.useEffect((function(){e.cityLocation&&c(e.cityLocation)}),[e.cityLocation]);var b=function(e,t,a){f({showWindow:!0,marker:t}),console.log(e,t)},E=function(){e.history.push({pathname:"/donate/org",state:g.marker})};return i.a.createElement(m.a,{container:!0,justify:"center"},i.a.createElement(m.a,{item:!0,xs:12},i.a.createElement(p.Map,{google:e.google,zoom:9,className:t.map,center:o},e.data.map((function(e){var t=e.orgName&&e.orgName.structured_formatting&&e.orgName.structured_formatting.main_text||e.orgName||"",a=e.orgAddress&&e.orgAddress.geometry&&e.orgAddress.geometry.location||"";if(t&&a)return i.a.createElement(p.Marker,Object.assign({key:e.uid,name:t,position:a,onClick:b},e))})),i.a.createElement(p.InfoWindow,{visible:g.showWindow,marker:g.marker,onClose:function(e){f({showWindow:!1,marker:{}})},onOpen:function(e){!function(e,t){var a=i.a.createElement(d.a,{id:"iwc",fullWidth:!0,disableElevation:!0,variant:"contained",color:"primary",onClick:E},"DONATE");u.a.render(i.a.Children.only(a),document.getElementById("iwc"))}()},className:t.infoWindow},i.a.createElement(N,Object.assign({item:g.marker,handleInfoWindowClick:function(){return E()}},e))))))}))),A=a(107),C=a.n(A),I=a(108),S=a(205),B=a(206),L=Object(c.a)((function(e){return{root:{textAlign:"center","& > *":{margin:e.spacing(2)}},input:{margin:e.spacing(2)},textField:{backgroundColor:"white",marginTop:60}}}));var W=function(e){var t=L(),a=i.a.useState([]),r=Object(n.a)(a,2),o=r[0],c=r[1],s=i.a.useState(""),l=Object(n.a)(s,2),u=l[0],p=l[1],d=i.a.useState({lat:null,lng:null}),f=Object(n.a)(d,2),h=(f[0],f[1]),v=i.a.useRef();i.a.useEffect((function(){if(u){var e=function(){var e=Object(I.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/autocomplete/json?input=".concat(u,"&types=(cities)&key=").concat("AIzaSyCN0lEUeJx0caBuvGp8bt6keUoc9YuLjqY"),{"Access-Control-Allow-Origin":"*"});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.predictions);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();clearTimeout(v.current);var t=setTimeout((function(){e()}),300);v.current=t}}),[u]);var b=function(e){var t=e.target.value;p(t)},E=function(){var t=Object(I.a)(C.a.mark((function t(a,n){var r,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://cors-anywhere.herokuapp.com/https://maps.googleapis.com/maps/api/place/details/json?place_id=".concat(n.place_id,"&fields=geometry&key=").concat("AIzaSyCN0lEUeJx0caBuvGp8bt6keUoc9YuLjqY"));case 4:return r=t.sent,t.next=7,r.json();case 7:(i=t.sent)&&i.result&&i.result.geometry&&i.result.geometry.location&&(h(i.result.geometry.location),e.setLocation&&e.setLocation(i.result.geometry.location));case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{item:!0,xs:12,sm:8,className:t.input},i.a.createElement(B.a,{id:"autocomplete",freeSolo:!0,options:o,onChange:E,getOptionLabel:function(e){return e.description},renderOption:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{variant:"body1"},e.structured_formatting.main_text," ",i.a.createElement("small",{style:{color:"gray"}},e.structured_formatting.secondary_text)))},renderInput:function(e){return i.a.createElement(S.a,Object.assign({autoFocus:!0,required:!0,fullWidth:!0},e,{className:t.textField,placeholder:"Search City",name:"city",variant:"outlined",onChange:b}))}})))},_=Object(c.a)((function(e){return{root:{margin:e.spacing(2)},paper:{minHeight:450},divider:{margin:e.spacing(2)},smBottomMargin:{marginBottom:10},icon:{verticalAlign:"middle"},header:{minHeight:90,alignItems:"normal"},main:{minHeight:200},button:{maxHeight:40},input:{backgroundColor:"white",marginTop:60}}}));t.default=i.a.memo(Object(o.e)((function(e){_();var t=i.a.useState([]),a=Object(n.a)(t,2),r=a[0],o=a[1],c=i.a.useState({lat:37.354107,lng:-121.955238}),l=Object(n.a)(c,2),u=l[0],p=l[1];return i.a.useEffect((function(){s.a.collection("request").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));o(t)}))}),[]),i.a.createElement(m.a,{container:!0,justify:"center"},i.a.createElement(x,Object.assign({data:r,cityLocation:u},e)),i.a.createElement(W,{setLocation:function(e){p(e)}}))})))}}]);
//# sourceMappingURL=10.00cb3440.chunk.js.map